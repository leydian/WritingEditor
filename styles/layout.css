.app {
  position: relative;
  height: 100vh;
}

.main {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: linear-gradient(180deg, #fffcf4 0%, #f7f2e8 100%);
}

.toolbar {
  height: var(--fx-header-h);
  min-height: var(--fx-header-h);
  flex-shrink: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 var(--fx-space-4);
  border-bottom: 1px solid var(--fx-border);
  background: rgba(255, 252, 245, 0.92);
  backdrop-filter: blur(8px);
  z-index: 12;
}

.left-tools,
.right-tools {
  display: flex;
  align-items: center;
  gap: var(--fx-space-1);
  min-width: 0;
}

.editor-area {
  flex: 1;
  min-height: 0;
  padding: var(--fx-space-5);
  background:
    radial-gradient(540px 280px at 100% 0%, rgba(31, 90, 70, 0.04), transparent 70%),
    linear-gradient(180deg, #faf7ef 0%, #f4eee0 100%);
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;
  gap: 0;
}

.pane {
  min-width: 0;
  min-height: 0;
  display: flex;
  flex-direction: column;
  border-radius: var(--fx-radius-lg);
  border: 1px solid var(--fx-border);
  background: linear-gradient(180deg, #ffffff 0%, #fffdfa 100%);
  box-shadow: var(--fx-shadow-soft);
  overflow: hidden;
  transition: border-color var(--fx-transition), box-shadow var(--fx-transition);
}

.pane.active {
  border-color: #8eb3a6;
  box-shadow: 0 0 0 2px rgba(31, 90, 70, 0.2), var(--fx-shadow-soft);
}

.pane-head {
  padding: 10px 14px;
  font-size: var(--fx-text-sm);
  font-weight: 700;
  color: var(--fx-ink-soft);
  background: linear-gradient(180deg, #f4efe2 0%, #ece4d3 100%);
  border-bottom: 1px solid var(--fx-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

textarea {
  flex: 1;
  width: 100%;
  padding: 24px;
  border: none;
  resize: none;
  background: transparent;
  color: #1b1f18;
  font-family: var(--fx-font-editor);
  font-size: 18px;
  line-height: 1.9;
  letter-spacing: 0.006em;
  outline: none;
  box-sizing: border-box;
}

.sidebar,
.stats-panel {
  position: fixed;
  top: 0;
  bottom: 0;
  z-index: var(--fx-layer-panel);
  display: flex;
  flex-direction: column;
  background: linear-gradient(180deg, #fdfbf6 0%, #f4efdf 100%);
  transition: transform var(--fx-transition), opacity var(--fx-transition);
  box-shadow: var(--fx-shadow-overlay);
  opacity: 0;
}

.sidebar {
  left: 0;
  width: var(--fx-overlay-w-sidebar);
  transform: translateX(-100%);
  border-right: 1px solid var(--fx-border);
}

.stats-panel {
  right: 0;
  width: var(--fx-overlay-w-stats);
  transform: translateX(100%);
  border-left: 1px solid var(--fx-border);
}

.sidebar.hidden-panel,
.stats-panel.hidden-panel {
  display: flex !important;
  opacity: 0;
}

.sidebar.hidden-panel {
  transform: translateX(-100%);
}

.stats-panel.hidden-panel {
  transform: translateX(100%);
}

.sidebar:not(.hidden-panel),
.stats-panel:not(.hidden-panel) {
  opacity: 1;
  transform: translateX(0);
}

#panel-backdrop {
  position: fixed;
  inset: 0;
  z-index: var(--fx-layer-backdrop);
  background: var(--fx-backdrop);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--fx-transition);
}

#panel-backdrop.active {
  opacity: 1;
  pointer-events: all;
}

.sidebar-resizer,
.calendar-resizer {
  display: none;
}

.editor-split-resizer {
  z-index: 5;
  background: rgba(31, 90, 70, 0.04);
  transition: background var(--fx-transition-fast);
}

.editor-split-resizer:hover {
  background: rgba(31, 90, 70, 0.2);
}

.editor-area.vertical .editor-split-resizer {
  cursor: col-resize;
  width: 8px;
  min-width: 8px;
}

.editor-area.horizontal .editor-split-resizer {
  cursor: row-resize;
  height: 8px;
  min-height: 8px;
}

:root[data-theme='dark'] .main {
  background: linear-gradient(180deg, #1b231f 0%, #161d19 100%);
}

:root[data-theme='dark'] .toolbar {
  background: rgba(28, 36, 32, 0.9);
  border-bottom-color: #36453d;
}

:root[data-theme='dark'] .editor-area {
  background:
    radial-gradient(540px 280px at 100% 0%, rgba(78, 181, 143, 0.09), transparent 70%),
    linear-gradient(180deg, #1c241f 0%, #161d19 100%);
}

:root[data-theme='dark'] .pane {
  background: linear-gradient(180deg, #2a342e 0%, #242d28 100%);
  border-color: #3e4b43;
}

:root[data-theme='dark'] .pane.active {
  border-color: #67b99a;
  box-shadow: 0 0 0 2px rgba(78, 181, 143, 0.26), var(--fx-shadow-soft);
}

:root[data-theme='dark'] .pane-head {
  color: #c3d0c6;
  background: linear-gradient(180deg, #2f3a34 0%, #28322d 100%);
  border-bottom-color: #3f4b44;
}

:root[data-theme='dark'] textarea {
  color: #eef4ef;
}

:root[data-theme='dark'] .sidebar,
:root[data-theme='dark'] .stats-panel {
  background: linear-gradient(180deg, #26302b 0%, #1f2823 100%);
}
